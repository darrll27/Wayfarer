version: 1
pathfinder_id: "pathfinder-controller-01"

# default folder where all waypoint files live (relative to this config/script)
waypoints_folder: "waypoints"
waypoint_type: "absolute"
groups:
  alpha:
    sysids:
      - 1
      - 2
      - 3
    stagger_secs: 2.0  # start each vehicle's preflight/takeoff ~1s apart
    #waypoint_type: "absolute"
  beta:
    sysids:
      - 4
      - 5
      - 6
    stagger_secs: 2.0
    #waypoint_type: "relative"

# pre-upload sequence run before mission items are uploaded to vehicle(s)
pre_upload:
  - command: 45    # MAV_CMD_MISSION_CLEAR_ALL -> clear all mission items
    params: [0,0,0,0,0,0,0]
    action: "clear_mission"
    delay: 0.2

  - command: 176   # MAV_CMD_REQUEST_MESSAGE (example: request heartbeat/status)
    params: [0,0,0,0,0,0,0]
    action: "pre_upload"
    delay: 0.2

# common preflight sequence applied when no group-specific preflight_file is present
preflight:
  - command: 176   # MAV_CMD_REQUEST_MESSAGE (example: request heartbeat/status)
    params: [0,0,0,0,0,0,0]
    action: "preflight"
    delay: 0.2

  - command: 400   # MAV_CMD_COMPONENT_ARM_DISARM -> arm
    params: [1,0,0,0,0,0,0]
    action: "arm"
    delay: 0.5

  - command: 191   # MAV_CMD_DO_SET_MODE (example, no-op depending on system)
    params: [0,0,0,0,0,0,0]
    action: "preflight"
    delay: 0.5
